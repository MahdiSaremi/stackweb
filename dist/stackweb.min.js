(()=>{var i=class{constructor(){this.isMounted=!1}mount(s,e,t){this.parent=s,this.parentE=e,this.el=t,this.isMounted=!1,this.onMount(),this.isMounted=!0}unmount(){this.onUnmount(),this.isMounted=!1}morph(s){this.morph(s)}insertNode(s){if(this.parentE.isMounted){let e=this.parent.resolveNextNodeOf(this);e?this.parent.el.insertBefore(s,e):this.parent.el.appendChild(s)}else this.parent.el.appendChild(s)}},h=class extends i{constructor(e){super();this.source=e}onMount(){this.source.mount(this,this,this.el)}onUnmount(){this.source.unmount()}onMorph(e){this.source.morph(e.source)}resolveRelativeNodes(){return this.source.resolveRelativeNodes()}resolveNextNodeOf(e){}},u=class extends i{constructor(e){super();this.source=e}onMount(){for(let e in this.source)this.source[e].mount(this,this.parentE,this.el)}onUnmount(){for(let e in this.source)this.source[e].unmount()}onMorph(e){for(let t in this.source)this.source[t].morph(e.source[t])}resolveRelativeNodes(){if(this.source.length==0)return[void 0,void 0];if(this.source.length==1)return this.source[0].resolveRelativeNodes();{let e,t,n;for(n=0;n<this.source.length;n++){let o=this.source[n].resolveRelativeNodes();if(o[0]||o[1]){e=o[0]??o[1];break}}for(n=this.source.length-1;n>=0;n--){let o=this.source[n].resolveRelativeNodes();if(o[0]||o[1]){t=o[1]??o[0];break}}return[e,t]}}resolveNextNodeOf(e){let t=this.source.indexOf(e);for(let n=t+1;n<this.source.length;n++){let o=this.source[n].resolveRelativeNodes();if(o[0]||o[1])return o[0]??o[1]}if(this.parent)return this.parent.resolveNextNodeOf(this)}},d=class extends i{constructor(e){super();this.source=e}onMount(){this.el=document.createElement(this.source.name),this.insertNode(this.el),this.source.slot.mount(this,this,this.el)}onUnmount(){this.el.remove(),this.el=void 0}onMorph(e){this.source.slot.morph(e.source.slot)}resolveRelativeNodes(){return[this.el,this.el]}resolveNextNodeOf(e){}},l=class extends i{constructor(e){super();this.value=e}onMount(){this.node=document.createTextNode(this.value),this.insertNode(this.node)}onUnmount(){this.el.removeChild(this.node),this.node=void 0}onMorph(e){this.value=e.value,this.node.textContent=this.value}resolveRelativeNodes(){return[this.node,this.node]}resolveNextNodeOf(e){}},c=class extends i{onMount(){this.node=document.createTextNode("Hello World ("+Math.floor(Math.random()*100)+")"),this.insertNode(this.node)}onUnmount(){this.el.removeChild(this.node),this.node=void 0}onMorph(e){this.node.textContent="Hello World ("+Math.floor(Math.random()*100)+")"}resolveRelativeNodes(){return[this.node,this.node]}resolveNextNodeOf(e){}},a=class extends i{constructor(e){super();this.states={};this.changed=!1;this.source=e}onMount(){this.states=this.source.states(this),this.slot=this.source.slot(this),this.slot.mount(this,this.parentE,this.el)}onUnmount(){this.slot.unmount()}reset(){this.states=this.source.states(this)}refresh(){let e=this.source.slot(this);this.slot.morph(e),this.changed=!1}onMorph(e){}getState(e){return this.states[e]}setState(e,t){this.states[e]=t,this.changed=!0}track(e){e(),this.changed&&this.refresh()}resolveRelativeNodes(){return this.slot.resolveRelativeNodes()}resolveNextNodeOf(e){return this.parent.resolveNextNodeOf(this)}},N=class extends i{constructor(e,t){super();this.source=t,this.condition=e}onMount(){this.condition&&this.source.mount(this,this.parentE,this.el)}onUnmount(){this.condition&&this.source.unmount()}onMorph(e){let t=e.condition;t!=this.condition&&(t?this.source.mount(this,this.parentE,this.el):this.source.onUnmount(),this.condition=t)}resolveRelativeNodes(){return this.condition?this.source.resolveRelativeNodes():[void 0,void 0]}resolveNextNodeOf(e){return this.parent.resolveNextNodeOf(this)}},p={Entity:i,Root:h,Group:u,Dom:d,Text:l,HelloWorld:c,Component:a,If:N};window.StackWeb=p;var f=p;})();
//# sourceMappingURL=stackweb.min.js.map
