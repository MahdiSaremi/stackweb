(()=>{var i=class{constructor(){this.isMounted=!1;this.isStatic=!1}mount(s,t,e){this.parent=s,this.parentE=t,this.el=e,this.isMounted=!1,this.onMount(),this.isMounted=!0}unmount(){this.onUnmount(),this.isMounted=!1}morph(s){this.isStatic||this.onMorph(s)}static(){return this.isStatic=!0,this}insertNode(s){if(this.parentE.isMounted){let t=this.parent.resolveNextNodeOf(this);t?this.parent.el.insertBefore(s,t):this.parent.el.appendChild(s)}else this.parent.el.appendChild(s)}},h=class extends i{constructor(t){super();this.source=t}onMount(){this.source.mount(this,this,this.el)}onUnmount(){this.source.unmount()}onMorph(t){this.source.morph(t.source)}resolveRelativeNodes(){return this.source.resolveRelativeNodes()}resolveNextNodeOf(t){}},u=class extends i{constructor(t){super();this.source=t}onMount(){for(let t in this.source)this.source[t].mount(this,this.parentE,this.el)}onUnmount(){for(let t in this.source)this.source[t].unmount()}onMorph(t){for(let e in this.source)this.source[e].morph(t.source[e])}resolveRelativeNodes(){if(this.source.length==0)return[void 0,void 0];if(this.source.length==1)return this.source[0].resolveRelativeNodes();{let t,e,o;for(o=0;o<this.source.length;o++){let n=this.source[o].resolveRelativeNodes();if(n[0]||n[1]){t=n[0]??n[1];break}}for(o=this.source.length-1;o>=0;o--){let n=this.source[o].resolveRelativeNodes();if(n[0]||n[1]){e=n[1]??n[0];break}}return[t,e]}}resolveNextNodeOf(t){let e=this.source.indexOf(t);for(let o=e+1;o<this.source.length;o++){let n=this.source[o].resolveRelativeNodes();if(n[0]||n[1])return n[0]??n[1]}if(this.parent)return this.parent.resolveNextNodeOf(this)}},d=class extends i{constructor(t){super();this.source=t}onMount(){this.el=document.createElement(this.source.name),this.insertNode(this.el),this.source.slot.mount(this,this,this.el)}onUnmount(){this.el.remove(),this.el=void 0}onMorph(t){this.source.slot.morph(t.source.slot)}resolveRelativeNodes(){return[this.el,this.el]}resolveNextNodeOf(t){}},c=class extends i{constructor(t){super();this.value=t}onMount(){this.node=document.createTextNode(this.value),this.insertNode(this.node)}onUnmount(){this.el.removeChild(this.node),this.node=void 0}onMorph(t){this.value=t.value,this.node.textContent=this.value}resolveRelativeNodes(){return[this.node,this.node]}resolveNextNodeOf(t){}},l=class extends i{onMount(){this.node=document.createTextNode("Hello World ("+Math.floor(Math.random()*100)+")"),this.insertNode(this.node)}onUnmount(){this.el.removeChild(this.node),this.node=void 0}onMorph(t){this.node.textContent="Hello World ("+Math.floor(Math.random()*100)+")"}resolveRelativeNodes(){return[this.node,this.node]}resolveNextNodeOf(t){}},a=class{constructor(s){this.morphMode=0;this.source=s}morphType(s){return this.morphMode=s,this}},p=class extends i{constructor(t,e,o){super();this.states={};this.changed=!1;this.component=t,this.slots=e,this.attrs=o}onMount(){this.states=this.component.source.states(this),this.content=this.component.source.slot(this),this.content.mount(this,this.parentE,this.el)}onUnmount(){this.content.unmount()}reset(){this.states=this.component.source.states(this)}refresh(){let t=this.component.source.slot(this);this.content.morph(t),this.changed=!1}onMorph(t){if(this.component.morphMode==0){let e=!1;JSON.stringify(this.slots)!==JSON.stringify(t.slots)&&(e=!0,this.slots=t.slots),JSON.stringify(this.attrs)!==JSON.stringify(t.attrs)&&(e=!0,this.attrs=t.attrs),e&&this.content.morph(t.component.source.slot(this))}this.component.morphMode==1&&this.content.morph(t.component.source.slot(this))}getState(t){return this.states[t]}setState(t,e){this.states[t]=e,this.changed=!0}track(t){t(),this.changed&&this.refresh()}getSlot(t=""){return this.slots[t]}getProp(t){return this.attrs[t]}get(t){if(this.states[t]!==void 0)return this.states[t];if(this.attrs[t]!==void 0)return this.attrs[t];if(this.slots[t]!==void 0)return this.slots[t]}resolveRelativeNodes(){return this.content.resolveRelativeNodes()}resolveNextNodeOf(t){return this.parent.resolveNextNodeOf(this)}},f=class extends i{constructor(t,e){super();this.source=e,this.condition=t}onMount(){this.condition&&this.source.mount(this,this.parentE,this.el)}onUnmount(){this.condition&&this.source.unmount()}onMorph(t){let e=t.condition;e!=this.condition&&(e?this.source.mount(this,this.parentE,this.el):this.source.onUnmount(),this.condition=e)}resolveRelativeNodes(){return this.condition?this.source.resolveRelativeNodes():[void 0,void 0]}resolveNextNodeOf(t){return this.parent.resolveNextNodeOf(this)}},N={Entity:i,Root:h,Group:u,Dom:d,Text:c,HelloWorld:l,Component:a,Invoke:p,If:f};window.StackWeb=N;var m=N;})();
//# sourceMappingURL=stackweb.min.js.map
